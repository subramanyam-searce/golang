package word

import (
	"fmt"
	"testing"

	"github.com/subramanyam-searce/golang/13-testing/02-coverage-pt2/quote"
)

func TestUseCount(t *testing.T) {
	expectedMap := map[string]int{
		"name": 2, "years.": 1, "that": 22, "California": 1, "Jake?\"": 1, "taught": 1, "where": 3, "gone": 1, "By": 2, "bridge,": 1, "Robert": 7, "Kelly.": 1, "time": 3, "settled": 1, "your": 1, "life.": 1, "mould": 1, "difference.": 1, "to-morrow": 1, "can": 2, "\"She's": 1, "is": 3, "feeling": 1, "something": 2, "made": 4, "three": 5, "month.": 1, "tennis,": 1, "was": 32, "face,": 1, "rise": 1, "urged": 1, "friends,": 1, "through": 2, "balance": 1, "literary": 2, "accidental": 1, "met": 1, "decided": 1, "gymnasium.": 1, "Jake,\"": 1, "people": 2, "and,": 2, "novel,": 1, "like": 2, "they": 2, "spectacles.": 1, "bumped": 1, "among": 1, "thought": 1, "say": 1, "tennis,\"": 1, "people,": 1, "their": 1, "disgusted": 1, "back": 2, "increased": 1, "self-consciousness": 1, "finished": 1, "hike": 1, "Princeton.": 3, "sort,": 1, "hence": 1, "doesn't": 1, "kiosque": 1, "exploitation": 1, "relieved.": 1, "paper,\"": 1, "deprive": 1, "fell": 1, "During": 3, "after": 2, "table": 1, "Odile,": 1, "for?": 1, "boxing": 4, "she": 6, "spent": 1, "fairly": 1, "several": 1, "thoroughly": 2, "fought": 1, "him.": 3, "Versailles": 1, "chin": 1, "for": 5, "or": 7, "race-conscious.": 1, "there": 4, "\"I": 1, "class": 1, "Cerf": 1, "am": 1, "\"I'm": 1, "pounds.": 1, "still": 2, "commenced": 1, "things": 1, "boy,": 3, "came": 2, "rather": 3, "sure": 1, "l'Avenue's": 1, "fast.": 1, "last": 2, "coffee,": 1, "mother,": 1, "available,": 1, "said,": 4, "I": 25, "thinking": 1, "board,": 1, "_fines_": 1, "me": 2, "strange": 1, "verify": 1, "chance": 1, "while": 1, "Alsace.": 1, "\"Good,": 1, "paper.": 1, "nothing": 1, "flattened.": 1, "military": 1, "going,": 1, "all.\"": 1, "year": 2, "sorry": 1, "local": 1, "shock.": 1, "inferiority": 1, "did": 2, "Jew,": 1, "about": 5, "departure": 1, "comfort": 1, "down": 1, "Coast.": 1, "don't": 1, "sore.\"": 1, "called": 1, "Ardennes.\"": 1, "stay": 1, "take": 1, "are": 2, "being": 3, "out": 4, "Massachusetts.": 1, "found": 1, "\"For": 1, "later": 1, "never": 4, "domestic": 1, "careless": 1, "aware": 1, "except": 2, "toward": 3, "determination": 1, "\"Hell,\"": 1, "but": 4, "review": 2, "café.": 1, "you,": 1, "think": 1, "In": 2, "table.": 1, "champion": 1, "stories": 1, "end": 2, "Cohn,": 1, "swell": 1, "went": 6, "under": 3, "done": 1, "believe": 1, "another": 1, "This": 1, "what": 3, "Braddocks": 2, "friend.": 2, "town,\"": 1, "other": 2, "loved": 1, "woman.": 1, "boxing,": 3, "But": 1, "good": 4, "Cohn's": 1, "They": 2, "happy,": 1, "together.": 1, "hardening.": 1, "Kelly's": 1, "weighed": 1, "somewhere": 2, "Cohn.": 3, "had,": 1, "up": 4, "The": 3, "felt": 1, "Europe,": 3, "were": 1, "If": 1, "Cohn": 12, "would": 4, "started": 1, "editorial": 1, "Also": 1, "do": 1, "all": 2, "talking": 1, "living": 1, "us": 3, "dined": 2, "it,": 2, "fit": 1, "New": 1, "became": 3, "looked": 2, "Didn't": 2, "go,": 1, "\"Good-night,": 1, "left,": 1, "in": 21, "together,": 1, "maybe": 1, "member,": 1, "hardened": 1, "come": 1, "pupil.": 1, "unhappiness": 1, "leave": 1, "trip.": 1, "corner": 1, "although,": 1, "him": 10, "into": 2, "mind": 1, "advisory": 1, "walk": 3, "woods": 1, "Spider": 5, "himself,": 1, "healthful": 1, "angel,": 1, "She's": 1, "\"It": 1, "Senlis": 1, "place": 1, "very": 8, "improved": 1, "girl": 5, "off": 2, "half": 1, "watched": 1, "one": 8, "even": 1, "prepped": 1, "attitude": 2, "Strasbourg": 4, "way": 1, "too": 3, "friendly": 1, "with": 8, "years,": 2, "her.": 2, "worry": 1, "myself.": 1, "lifting": 1, "lot": 1, "treated": 1, "inner": 1, "frightened": 1, "short": 1, "finally": 1, "unattractive": 1, "said.": 4, "forgot": 1, "who": 7, "especially": 1, "backing": 1, "\"That's": 1, "snooty": 1, "looks": 1, "on": 6, "frank": 1, "Princeton,": 1, "most": 1, "champion,": 1, "appeared": 1, "magazine.": 1, "so.\"": 1, "young": 2, "little": 2, "California,": 1, "Any": 2, "\"Don't": 2, "to": 36, "cared": 1, "seemed": 1, "miniature-painter.": 1, "give": 1, "America,": 1, "magazine": 2, "coffee.": 1, "might": 1, "not": 11, "mistrust": 1, "child,": 1, "lost": 1, "arranged": 1, "whose": 1, "It": 1, "town": 1, "Saint": 1, "American": 1, "me.": 1, "counteract": 1, "no": 2, "children,": 1, "although": 1, "on:": 1, "regarded": 1, "such": 1, "books,": 1, "home.\"": 1, "courts,\"": 1, "promptly": 1, "wearing": 1, "mother": 3, "shy,": 1, "all.": 1, "weekend": 1, "overmatched": 1, "always": 1, "As": 1, "get": 6, "Café": 1, "any": 3, "school": 1, "feel": 1, "just": 1, "page": 1, "shyness": 1, "champion.": 1, "ever": 1, "buy": 1, "\"See": 1, "once": 1, "money": 1, "boxed": 1, "had": 31, "knowing": 1, "been": 9, "team,": 1, "rise,": 1, "He": 16, "afterward": 1, "sore.": 1, "impressed": 1, "nose.": 1, "Jewish": 1, "wife;": 1, "purely": 1, "have": 1, "led": 1, "two": 6, "Princeton": 2, "having": 1, "editor.": 1, "years": 2, "married": 2, "well,\"": 1, "I'll": 1, "show": 1, "flattened": 1, "months": 1, "make": 1, "will": 1, "it": 14, "should": 3, "again": 1, "lives": 1, "could": 3, "anybody": 2, "thousand": 2, "be": 5, "novel.": 1, "No": 1, "stayed": 1, "out.": 1, "see": 3, "distaste": 1, "wondered": 1, "When": 1, "\"let's": 1, "nice": 3, "Kelly": 2, "box": 1, "face": 1, "Strasbourg?": 1, "night": 1, "\"You": 3, "quite": 1, "suspicion": 1, "bitter.": 1, "first": 3, "lady": 4, "hoped": 1, "of": 24, "he": 30, "wrote": 1, "said": 3, "I?": 1, "At": 1, "father": 1, "left": 2, "cruel": 1, "though,": 1, "know": 4, "café": 1, "learned": 1, "certain": 2, "his": 20, "educated,": 1, "Paris,": 1, "We": 3, "suggested": 1, "everything": 1, "five": 3, "simple": 1, "horse": 1, "maybe,": 1, "go": 4, "turned": 1, "be?\"": 1, "and": 51, "star": 1, "as": 8, "remembered": 2, "sake,\"": 1, "fact": 1, "divorce": 1, "authority": 1, "we": 2, "kicked": 3, "good-night": 1, "fine.\"": 1, "Do": 1, "title,": 1, "only": 1, "this": 2, "bad": 1, "disliked": 1, "hundred": 3, "remember": 1, "merely": 1, "going": 2, "Senlis.\"": 1, "\"why": 2, "nose": 1, "up.": 1, "time,": 1, "Robert's": 2, "novel": 1, "when": 3, "else,": 1, "forceful,": 1, "lady's": 1, "father,": 1, "Arts.": 1, "taken": 2, "Somebody": 1, "girl.": 1, "Frances,": 2, "\"Well,": 1, "featherweights,": 1, "got": 1, "somebody": 1, "families": 1, "Provincetown,": 1, "read": 2, "rich": 1, "lady,": 1, "\"No,": 2, "walked": 1, "middleweight": 3, "really": 2, "different": 1, "her": 7, "Carmel,": 1, "seen": 1, "marry": 1, "you": 5, "corner.": 1, "nose,": 1, "estate": 1, "editing.": 1, "write.": 1, "looked?\"": 1, "Jew": 1, "him,": 4, "hand": 1, "hand.": 2, "allowance": 1, "silly.\"": 1, "sore,": 1, "gym.": 1, "from": 3, "an": 3, "de": 1, "fly": 1, "whether": 1, "become": 2, "about.": 1, "writing.": 1, "that,": 1, "looking,": 1, "Frances.": 1, "by": 3, "shy": 1, "some": 1, "certainly": 1, "these": 1, "stepped": 1, "possession": 1, "many": 2, "knows": 1, "well": 1, "paper": 2, "Grand": 1, "matter": 1, "permanently": 1, "satisfaction": 1, "because": 1, "expensive": 1, "at": 10, "so": 2, "played": 3, "sole": 1, "critics": 1, "going.": 1, "a": 39, "gave": 1, "leaving": 1, "travel,": 1, "poor": 1, "must": 1, "wanted": 2, "hell": 1, "meant": 1, "knock": 1, "something,": 1, "discovered": 2, "She": 1, "evidently": 1, "God's": 1, "much": 2, "the": 49, "There": 1, "York,": 1, "football": 1, "painfully": 1, "gentlemen": 1, "oldest.": 1, "fifty": 2, "dollars": 2, "tennis": 1, "girl.\"": 1, "Frances?\"": 2, "until": 1, "wife": 2, "publication": 1, "member": 1, "liked": 2, "perhaps": 2, "second": 1, "again.": 1, "changed": 1, "absolute": 1, "why": 2, "saw": 2, "town.": 1, "Bruges,": 1, "took": 2, "hold": 1, "story": 1, "often": 1, "painful": 1, "\"Oh,": 1, "richest": 1, "walk.": 1, "couldn't": 1, "holding": 1,
	}

	x := UseCount(quote.SunAlso)

	for k, v := range x {
		if expectedMap[k] != v {
			t.Error("Error:", k, "key's value is", v, "Expected:", expectedMap[k])
			break
		}
	}
}

func BenchmarkUseCount(b *testing.B) {
	for i := 0; i < b.N; i++ {
		UseCount(quote.SunAlso)
	}
}

func ExampleCount() {
	fmt.Println(Count("champion"))
	// Output:
	// 1
}
